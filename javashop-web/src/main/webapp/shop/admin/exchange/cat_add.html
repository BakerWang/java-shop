<style>
.layui-form-item{
margin-left:15px;
margin-top:10px;
}
</style>
<div class="main">
    <!--表单区域  -->
    <script type="text/javascript" src="${ctx}/adminthemes/version3/plugins/layui/lay/modules/form.js"></script>
	<form id="addForm" class="layui-form layui-form-pane" enctype="multipart/form-data">
  		<div class="layui-form-item">
    		<label  style="width: 25%" class="layui-form-label" for="name">分类名称:</label>
    		<div class="layui-input-block">
      			<input type="text" name="name" style="width: 77%" class="layui-input" id="name" lay-verify="required" autocomplete="off" maxlength="15">
    		</div>
  		</div>
  		
  		<div class="layui-form-item">
    		<label style="width: 25%" class="layui-form-label">分类图片:</label>
    		<div class="layui-input-block">
      			<span class="upload-btn upload-btn1">上传按钮</span>
   			<input type="hidden" id="upload_src" name="image" maxlength="100"  autocomplete="off">
    		</div>
  		</div>
  		
  		<div class="layui-form-item" style="display: none">
    		<label style="width: 25%"  class="layui-form-label ">是否为顶级分类:</label>
    		<div class="layui-input-block">
                <input type="radio" name="cattype" lay-filter="cattype" value="1" title="是">
                <input type="radio" name="cattype" lay-filter="cattype" value="0" checked="checked" title="否">
    		</div>
  		</div>
  		
  		<div  class="layui-form-item  discode">
    		<label style="width: 25%"  class="layui-form-label">上级分类:</label>
    		<div class="layui-input-block">
      			<input  style="width: 77%" type="text" name="parent_id" id="cat_parent" autocomplete="off" placeholder="选择上级分类" class="layui-input">
    		</div>
  		</div>
  		
  		<div class="layui-form-item">
    		<label style="width: 25%"  class="layui-form-label">排序:</label>
    		<div class="layui-input-block">
      			<input  style="width: 77%" type="text" id="sort" name="category_order" autocomplete="off"  class="layui-input" value="0" maxlength="5">
    		</div>
  		</div>
  		
  		<div class="layui-form-item">
  			<input type="hidden" name="list_show" value="1" checked="checked"/>
    		<!--  <label style="width: 35%"  class="layui-form-label">列表中显示</label>
    		<div class="layui-input-block">
                <input type="radio" name="list_show" value="1" checked="checked" title="是">
                <input type="radio" name="list_show" value="0"  title="否">
    		</div>-->
  		</div>
  	
 
  	</form>
    
    
</div>

    <script>
    layui.use(['form', 'layedit', 'laydate'], function(){
	    var form = layui.form()
	        ,layer = layui.layer
	        ,layedit = layui.layedit
	        ,laydate = layui.laydate;
	    
    	form.on('radio(cattype)', function(data){
  		  if(data.value==1){
  		    	$(".discode").hide();
  		    }else{
  		    	$(".discode").show();
  		    }
  	}); 
    });
    
  //修改文件上传控件
    var options={
    		success:function(data){
    			$("#upload_src").val(data);
    		},error:function(error){
    			console.log(error);
    		}
    		
    }
    $('.upload-btn1').FilesUpload(options);
     </script>